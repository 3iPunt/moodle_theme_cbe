define ("theme_cbe/activitychooser",["jquery","core/str","core/ajax","core/templates"],function(c){"use strict";var b={RESOURCES_TAB:"[data-region=\"resources-tab-nav\"]",RESOURCES_CONTENT:"[data-region=\"resources\"]",ACTIVITY_TAB:"[data-region=\"activity-tab-nav\"]",ACTIVITY_CONTENT:"[data-region=\"activity\"]",FAVOURITE_TAB:"[data-region=\"favourite-tab-nav\"]",FAVOURITE_CONTENT:"[data-region=\"favourites\"]",RECOMMENDED_TAB:"[data-region=\"recommended-tab-nav\"]",RECOMMENDED_CONTENT:"[data-region=\"recommended\"]"},d={"favourite-tab-nav":0,"recommended-tab-nav":1,"activity-tab-nav":2,"resources-tab-nav":3,"default-tab-nav":4};function a(a){var d=this;this.node=c(a);this.order();this.refresh();window.setInterval(function(){return d.refresh()},500);this.node.find(b.RECOMMENDED_TAB).on("click",this.refresh.bind(this));this.node.find(b.RESOURCES_TAB).on("click",this.refresh.bind(this));this.node.find(b.ACTIVITY_TAB).on("click",this.refresh.bind(this));this.node.find(b.FAVOURITE_TAB).on("click",this.refresh.bind(this));this.node.find("[data-action=\"manage-module-favourite\"]").on("click",this.refresh.bind(this))}a.prototype.refresh=function(){var a=this.node.find(b.RECOMMENDED_TAB),c=this.node.find(b.RECOMMENDED_CONTENT),d=this.node.find(b.FAVOURITE_TAB),e=this.node.find(b.FAVOURITE_CONTENT),f=this.node.find(b.ACTIVITY_TAB),g=this.node.find(b.RESOURCES_TAB),h=this.node.find(".chooser-container .nav.nav-tabs .nav-item.nav-link"),i=this.node.find(".chooser-container .tab-pane");if(!f.hasClass("active")&&!g.hasClass("active")){if(!d.hasClass("d-none")){h.removeClass("active");i.removeClass("active");d.addClass("active");e.addClass("active");a.hide()}else{if(!a.hasClass("d-none")){a.show();h.removeClass("active");i.removeClass("active");a.addClass("active");c.addClass("active")}}}else{if(!d.hasClass("d-none")){a.hide()}else{if(!a.hasClass("d-none")){a.show()}}}};a.prototype.order=function(){c(".chooser-container .nav.nav-tabs").each(function(){var a=c(this);a.append(a.find(".nav-item.nav-link").get().sort(function(e,a){var b=c(e).data("region"),f=c(a).data("region");return d[b]-d[f]}))})};a.prototype.node=null;return{initActivityChooser:function initActivityChooser(b){return new a(b)}}});
//# sourceMappingURL=activitychooser.min.js.map
