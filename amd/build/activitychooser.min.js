/**
 *
 * @author 2021 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_cbe/activitychooser",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){var REGIONS_RESOURCES_TAB='[data-region="resources-tab-nav"]',REGIONS_ACTIVITY_TAB='[data-region="activity-tab-nav"]',REGIONS_FAVOURITE_TAB='[data-region="favourite-tab-nav"]',REGIONS_FAVOURITE_CONTENT='[data-region="favourites"]',REGIONS_RECOMMENDED_TAB='[data-region="recommended-tab-nav"]',REGIONS_RECOMMENDED_CONTENT='[data-region="recommended"]',ORDER={"favourite-tab-nav":0,"recommended-tab-nav":1,"activity-tab-nav":2,"resources-tab-nav":3,"default-tab-nav":4};function ActivityChooser(region){var _this=this;this.node=$(region),this.order(),this.refresh(),window.setInterval((function(){return _this.refresh()}),500),this.node.find(REGIONS_RECOMMENDED_TAB).on("click",this.refresh.bind(this)),this.node.find(REGIONS_RESOURCES_TAB).on("click",this.refresh.bind(this)),this.node.find(REGIONS_ACTIVITY_TAB).on("click",this.refresh.bind(this)),this.node.find(REGIONS_FAVOURITE_TAB).on("click",this.refresh.bind(this)),this.node.find('[data-action="manage-module-favourite"]').on("click",this.refresh.bind(this))}return ActivityChooser.prototype.refresh=function(e){var recommended_tab=this.node.find(REGIONS_RECOMMENDED_TAB),recommended_content=this.node.find(REGIONS_RECOMMENDED_CONTENT),favourite_tab=this.node.find(REGIONS_FAVOURITE_TAB),favourite_content=this.node.find(REGIONS_FAVOURITE_CONTENT),activity_tab=this.node.find(REGIONS_ACTIVITY_TAB),resources_tab=this.node.find(REGIONS_RESOURCES_TAB),all_tabs=this.node.find(".chooser-container .nav.nav-tabs .nav-item.nav-link"),all_contents=this.node.find(".chooser-container .tab-pane");activity_tab.hasClass("active")||resources_tab.hasClass("active")?favourite_tab.hasClass("d-none")?recommended_tab.hasClass("d-none")||recommended_tab.show():recommended_tab.hide():favourite_tab.hasClass("d-none")?recommended_tab.hasClass("d-none")||(recommended_tab.show(),all_tabs.removeClass("active"),all_contents.removeClass("active"),recommended_tab.addClass("active"),recommended_content.addClass("active")):(all_tabs.removeClass("active"),all_contents.removeClass("active"),favourite_tab.addClass("active"),favourite_content.addClass("active"),recommended_tab.hide())},ActivityChooser.prototype.order=function(e){$(".chooser-container .nav.nav-tabs").each((function(){var $this=$(this);$this.append($this.find(".nav-item.nav-link").get().sort((function(a,b){var region_a=$(a).data("region"),region_b=$(b).data("region");return ORDER[region_a]-ORDER[region_b]})))}))},ActivityChooser.prototype.node=null,{initActivityChooser:function(region){return new ActivityChooser(region)}}}));

//# sourceMappingURL=activitychooser.min.js.map