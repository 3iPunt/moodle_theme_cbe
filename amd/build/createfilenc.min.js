define ("theme_cbe/createfilenc",["jquery","core/ajax"],function(a,b){"use strict";var d={CREATE_FILE_NC:"#create_file_nextcloud",BODY_NC:"#create_file_nextcloud_body",IFRAME_NC:"#create_file_nextcloud_iframe",ERROR_NC:"#nextcloud_error"},e={CREATE_BUTTON:"[data-action=\"create_file_nextcloud\"]",CONTRACT_BUTTON:"[data-action=\"create_file_nextcloud_contract\"]"},f={NC_CREATEFILE:"theme_cbe_nextcloud_createfile"};function c(){this.node=a(d.CREATE_FILE_NC);this.node.find(e.CREATE_BUTTON).on("click",this.onCreateClick.bind(this));this.node.find(e.CONTRACT_BUTTON).on("click",this.onContractClick.bind(this))}c.prototype.onContractClick=function(){this.node.find(d.BODY_NC).hide();this.node.find(e.CONTRACT_BUTTON).hide();this.node.find(e.CREATE_BUTTON).show();this.node.find(d.IFRAME_NC).hide()};c.prototype.onCreateClick=function(){this.node.find(d.BODY_NC).show();this.node.find(e.CONTRACT_BUTTON).show();this.node.find(e.CREATE_BUTTON).hide();this.node.find(d.ERROR_NC).hide();var a=this.node,c={methodname:f.NC_CREATEFILE,args:{}};b.call([c])[0].done(function(b){if(b.success){a.find(d.IFRAME_NC).show();a.find(d.IFRAME_NC).attr("src",b.link)}else{a.find(d.IFRAME_NC).hide();a.find(d.ERROR_NC).show();a.find(d.ERROR_NC).text(b.error)}}).fail(Notification.exception)};c.prototype.node=null;return{initCreatefilenc:function initCreatefilenc(){return new c}}});
//# sourceMappingURL=createfilenc.min.js.map
