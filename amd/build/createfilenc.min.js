/**
 *
 * @author  2021 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_cbe/createfilenc",["jquery","core/ajax"],(function($,Ajax){var REGION_CREATE_FILE_NC="#create_file_nextcloud",REGION_BODY_NC="#create_file_nextcloud_body",REGION_IFRAME_NC="#create_file_nextcloud_iframe",REGION_ERROR_NC="#nextcloud_error",ACTION_CREATE_BUTTON='[data-action="create_file_nextcloud"]',ACTION_CONTRACT_BUTTON='[data-action="create_file_nextcloud_contract"]',SERVICES_NC_CREATEFILE="theme_cbe_nextcloud_createfile";function Createfilenc(){this.node=$(REGION_CREATE_FILE_NC),this.node.find(ACTION_CREATE_BUTTON).on("click",this.onCreateClick.bind(this)),this.node.find(ACTION_CONTRACT_BUTTON).on("click",this.onContractClick.bind(this))}return Createfilenc.prototype.onContractClick=function(e){this.node.find(REGION_BODY_NC).hide(),this.node.find(ACTION_CONTRACT_BUTTON).hide(),this.node.find(ACTION_CREATE_BUTTON).show(),this.node.find(REGION_IFRAME_NC).hide()},Createfilenc.prototype.onCreateClick=function(e){this.node.find(REGION_BODY_NC).show(),this.node.find(ACTION_CONTRACT_BUTTON).show(),this.node.find(ACTION_CREATE_BUTTON).hide(),this.node.find(REGION_ERROR_NC).hide();var node=this.node,request={methodname:SERVICES_NC_CREATEFILE,args:{}};Ajax.call([request])[0].done((function(response){response.success?(node.find(REGION_IFRAME_NC).show(),node.find(REGION_IFRAME_NC).attr("src",response.link)):(node.find(REGION_IFRAME_NC).hide(),node.find(REGION_ERROR_NC).show(),node.find(REGION_ERROR_NC).text(response.error))})).fail(Notification.exception)},Createfilenc.prototype.node=null,{initCreatefilenc:function(){return new Createfilenc}}}));

//# sourceMappingURL=createfilenc.min.js.map