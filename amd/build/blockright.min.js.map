{"version":3,"sources":["../src/blockright.js"],"names":["define","$","Str","Ajax","ACTION","CONTRACT_BUTTON","EXPAND_BUTTON","SERVICES","BLOCK_RIGHT","Blockright","node","buttonbr","prepend","find","on","onContractButtonClick","bind","onExpandButtonClick","prototype","console","log","request","methodname","args","action","call","done","css","addClass","show","hide","fail","Notification","exception","removeClass","initBlockright"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package theme_cbe\n * @author  2021 3iPunt <https://www.tresipunt.com/>\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\n\ndefine([\n        'jquery',\n        'core/str',\n        'core/ajax',\n        'core/templates'\n    ], function($, Str, Ajax, Templates) {\n        \"use strict\";\n\n        /**\n         *\n         */\n        let ACTION = {\n            CONTRACT_BUTTON: '#blockright_contract',\n            EXPAND_BUTTON: '#blockright_expand',\n        };\n\n        /**\n         *\n         */\n        let SERVICES = {\n            BLOCK_RIGHT: 'theme_cbe_block_right_set_status'\n        };\n\n        /**\n         * @constructor\n         */\n        function Blockright() {\n            this.node = $('section[data-region=\"blocks-column\"]');\n            let buttonbr = '<div id=\"blockright_container\">';\n            buttonbr += '<button id=\"blockright_contract\" type=\"button\" class=\"btn-blockregion\">';\n            buttonbr += '<i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i></button>';\n            buttonbr += '<button id=\"blockright_expand\" type=\"button\" class=\"btn-blockregion\">';\n            buttonbr += '<i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i></button>';\n            buttonbr += '</div>';\n            this.node.prepend(buttonbr);\n            this.node.find(ACTION.CONTRACT_BUTTON).on('click', this.onContractButtonClick.bind(this));\n            this.node.find(ACTION.EXPAND_BUTTON).on('click', this.onExpandButtonClick.bind(this));\n        }\n\n        Blockright.prototype.onExpandButtonClick = function(e) {\n            console.log('expand');\n            let action = 1;\n            const request = {\n                methodname: SERVICES.BLOCK_RIGHT,\n                args: {\n                    action: action\n                }\n            };\n            Ajax.call([request])[0].done(function(response) {\n                $('section[data-region=\"blocks-column\"]').css({\"width\": \"19rem\", \"padding-left\": \"10px\", \"padding-right\": \"10px\"});\n                $('#blockright_container').css({\"right\": \"19rem\"});\n                $('header#page-header').addClass(\"expand\");\n                $('div#page-content').addClass(\"expand\");\n                $('#block-region-side-pre').show();\n                $('#blockright_contract').show();\n                $('#blockright_expand').hide();\n            }).fail(Notification.exception);\n        };\n\n        Blockright.prototype.onContractButtonClick = function(e) {\n            console.log('contract');\n            let action = 0;\n            const request = {\n                methodname: SERVICES.BLOCK_RIGHT,\n                args: {\n                    action: action\n                }\n            };\n            Ajax.call([request])[0].done(function(response) {\n                $('section[data-region=\"blocks-column\"]').css({\"width\": \"0\", \"padding-left\": \"0\", \"padding-right\": \"0\"});\n                $('#blockright_container').css({\"right\": \"0\"});\n                $('header#page-header').css({\"padding-right\": \"0\"}).removeClass(\"expand\");\n                $('div#page-content').css({\"padding-right\": \"0\"}).removeClass(\"expand\");\n                $('#block-region-side-pre').hide();\n                $('#blockright_contract').hide();\n                $('#blockright_expand').show();\n            }).fail(Notification.exception);\n        };\n\n        /** @type {jQuery} The jQuery node for the region. */\n        Blockright.prototype.node = null;\n\n        return {\n            /**\n             *\n             * @return {Blockright}\n             */\n            initBlockright: function() {\n                return new Blockright();\n            }\n        };\n    }\n);"],"file":"blockright.min.js"}