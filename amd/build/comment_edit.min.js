/**
 *
 * @author  2021 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_cbe/comment_edit",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){var ACTION_EDIT_BUTTON='[data-action="edit-comment"]',SERVICES_COMMENT_EDIT="theme_cbe_publication_comment_edit";function CommentEdit(region,commentid){this.commentid=commentid,this.node=$(region+'[data-commentid="'+commentid+'"]'),this.node.find(ACTION_EDIT_BUTTON).on("click",this.onEditButtonClick.bind(this))}return CommentEdit.prototype.onEditButtonClick=function(e){var comment=this.node.find(".textcomment").val().trim();if(""!==comment){$(ACTION_EDIT_BUTTON).prop("disabled",!0);var request={methodname:SERVICES_COMMENT_EDIT,args:{commentid:this.commentid,comment:comment}};Ajax.call([request])[0].done((function(response){location.reload()})).fail(Notification.exception)}},CommentEdit.prototype.node=null,{initCommentEdit:function(region,commentid){return new CommentEdit(region,commentid)}}}));

//# sourceMappingURL=comment_edit.min.js.map