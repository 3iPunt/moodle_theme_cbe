define ("theme_cbe/comment_edit",["jquery","core/str","core/ajax","core/templates"],function(a,b,c){"use strict";var e={EDIT_BUTTON:"[data-action=\"edit-comment\"]"},f={COMMENT_EDIT:"theme_cbe_publication_comment_edit"};function d(b,c){this.commentid=c;this.node=a(b+"[data-commentid=\""+c+"\"]");this.node.find(e.EDIT_BUTTON).on("click",this.onEditButtonClick.bind(this))}d.prototype.onEditButtonClick=function(){var b=this.node.find(".textcomment").val().trim();if(""!==b){a(e.EDIT_BUTTON).prop("disabled",!0);var d={methodname:f.COMMENT_EDIT,args:{commentid:this.commentid,comment:b}};c.call([d])[0].done(function(){location.reload()}).fail(Notification.exception)}};d.prototype.node=null;return{initCommentEdit:function initCommentEdit(a,b){return new d(a,b)}}});
//# sourceMappingURL=comment_edit.min.js.map
