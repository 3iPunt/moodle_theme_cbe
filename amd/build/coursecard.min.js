define ("theme_cbe/coursecard",["jquery","core/str","core/ajax","core/templates"],function(a,b,c,d){"use strict";var f={COURSECARD_EXTRA:"theme_cbe_coursecard_extra",COURSECARD_TEACHERS:"theme_cbe_coursecard_teachers"},g={COURSECARD_FOOTER:"theme_cbe/coursecard_footer",COURSECARD_TEACHERS:"theme_cbe/coursecard_teachers",LOADING:"core/overlay_loading"};function e(b,e){var h=a("[data-role=\"user\"] [data-region=\"coursecard-footer-"+e+"\"]"),i=a("[data-role=\"user\"] [data-region=\"coursecard-teachers-"+e+"\"]"),j=a("[data-role=\"user\"] [data-region=\"course-content\"][data-course-id=\""+e+"\"]");d.render(g.LOADING,{visible:!0}).done(function(){var b={methodname:f.COURSECARD_EXTRA,args:{course_id:e}};c.call([b])[0].done(function(b){var c=g.COURSECARD_FOOTER,e=b.view_url,f=j.find("a[href*=\"/course/\"]");f.each(function(){var b=a(this).attr("href");if(b.includes("/course/")){a(this).attr("href",e)}});d.render(c,b).done(function(a,b){h.html(a);d.runTemplateJS(b)})}).fail(Notification.exception);var k={methodname:f.COURSECARD_TEACHERS,args:{course_id:e}};c.call([k])[0].done(function(a){var b=g.COURSECARD_TEACHERS;d.render(b,a).done(function(a,b){i.html(a);d.runTemplateJS(b)})}).fail(Notification.exception)})}e.prototype.node=null;return{initCourseCard:function initCourseCard(a,b){return new e(a,b)}}});
//# sourceMappingURL=coursecard.min.js.map
