/**
 *
 * @author  2021 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_cbe/publication_delete",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){var ACTION_DELETE_BUTTON='[data-action="delete"]',SERVICES_PUBLICATION_DELETE="theme_cbe_publication_delete";function PublicationDelete(region,cmid){this.cmid=cmid,this.node=$(region+'[data-cmid="'+cmid+'"]'),this.node.find(ACTION_DELETE_BUTTON).on("click",this.onDeleteButtonClick.bind(this))}return PublicationDelete.prototype.onDeleteButtonClick=function(e){$(ACTION_DELETE_BUTTON).prop("disabled",!0);var request={methodname:SERVICES_PUBLICATION_DELETE,args:{cmid:this.cmid}};Ajax.call([request])[0].done((function(response){location.reload()})).fail(Notification.exception)},PublicationDelete.prototype.node=null,{initPublicationDelete:function(region,cmid){return new PublicationDelete(region,cmid)}}}));

//# sourceMappingURL=publication_delete.min.js.map