{"version":3,"sources":["../src/modedit.js"],"names":["define","$","BUTTONS","SUBMIT_1","SUBMIT_2","REGIONS","ALERTS","ALERT_CBE","Modedit","prependTo","mform","alertRestriction","find","on","bind","prototype","alerts","alert_is_visible","each","$this","text","trim","$alert","removeClass","node","initModedit"],"mappings":"AAwBAA,OAAM,qBAAC,CACC,QADD,CAAD,CAEC,SAAUC,CAAV,CAAa,CACZ,aADY,GAGRC,CAAAA,CAAO,CAAG,CACVC,QAAQ,CAAG,kBADD,CAEVC,QAAQ,CAAG,mBAFD,CAHF,CAQRC,CAAO,CAAG,CACVC,MAAM,CAAE,wBADE,CAEVC,SAAS,CAAE,oBAFD,CARF,CAgBZ,QAASC,CAAAA,CAAT,EAAmB,CACfP,CAAC,CAAC,wBAAD,CAAD,CAA4BQ,SAA5B,CAAsC,4BAAtC,EACA,GAAIC,CAAAA,CAAK,CAAGT,CAAC,CAAC,QAAD,CAAb,CACA,KAAKU,gBAAL,GACAD,CAAK,CAACE,IAAN,CAAWV,CAAO,CAACC,QAAnB,EAA6BU,EAA7B,CAAgC,OAAhC,CAAyC,KAAKF,gBAAL,CAAsBG,IAAtB,CAA2B,IAA3B,CAAzC,EACAJ,CAAK,CAACE,IAAN,CAAWV,CAAO,CAACE,QAAnB,EAA6BS,EAA7B,CAAgC,OAAhC,CAAyC,KAAKF,gBAAL,CAAsBG,IAAtB,CAA2B,IAA3B,CAAzC,CACH,CAEDN,CAAO,CAACO,SAAR,CAAkBJ,gBAAlB,CAAqC,UAAa,IAC1CD,CAAAA,CAAK,CAAGT,CAAC,CAAC,QAAD,CADiC,CAE1Ce,CAAM,CAAGN,CAAK,CAACE,IAAN,CAAWP,CAAO,CAACC,MAAnB,CAFiC,CAG1CW,CAAgB,GAH0B,CAI9CD,CAAM,CAACE,IAAP,CAAY,UAAU,IACdC,CAAAA,CAAK,CAAGlB,CAAC,CAAC,IAAD,CADK,CAEdmB,CAAI,CAAGnB,CAAC,CAACoB,IAAF,CAAOF,CAAK,CAACC,IAAN,EAAP,CAFO,CAGlB,GAAa,EAAT,GAAAA,CAAJ,CAAiB,CACbH,CAAgB,GACnB,CACJ,CAND,EAOA,GAAIA,CAAJ,CAAsB,CAClB,GAAIK,CAAAA,CAAM,CAAGrB,CAAC,CAACI,CAAO,CAACE,SAAT,CAAd,CACAe,CAAM,CAACC,WAAP,CAAmB,QAAnB,CACH,CACJ,CAfD,CAkBAf,CAAO,CAACO,SAAR,CAAkBS,IAAlB,CAAyB,IAAzB,CAEA,MAAO,CAKHC,WAAW,CAAE,sBAAY,CACrB,MAAO,IAAIjB,CAAAA,CACd,CAPE,CASV,CAvDC,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package theme_cbe\n * @author  2021 3iPunt <https://www.tresipunt.com/>\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\n\ndefine([\n        'jquery',\n    ], function ($) {\n        \"use strict\";\n\n        let BUTTONS = {\n            SUBMIT_1 : '#id_submitbutton',\n            SUBMIT_2 : '#id_submitbutton2',\n        };\n\n        let REGIONS = {\n            ALERTS: '.form-control-feedback',\n            ALERT_CBE: '#alert-cbe-modedit',\n        };\n\n        /**\n         * @constructor\n         */\n        function Modedit() {\n            $('#create_file_nextcloud').prependTo('#fitem_id_introattachments');\n            let mform = $('.mform');\n            this.alertRestriction();\n            mform.find(BUTTONS.SUBMIT_1).on('click', this.alertRestriction.bind(this));\n            mform.find(BUTTONS.SUBMIT_2).on('click', this.alertRestriction.bind(this));\n        }\n\n        Modedit.prototype.alertRestriction = function (e) {\n            let mform = $('.mform');\n            let alerts = mform.find(REGIONS.ALERTS);\n            let alert_is_visible = false;\n            alerts.each(function(){\n                let $this = $(this);\n                let text = $.trim($this.text());\n                if (text !== '') {\n                    alert_is_visible = true;\n                }\n            });\n            if (alert_is_visible) {\n                let $alert = $(REGIONS.ALERT_CBE);\n                $alert.removeClass('hidden');\n            }\n        };\n\n        /** @type {jQuery} The jQuery node for the region. */\n        Modedit.prototype.node = null;\n\n        return {\n            /**\n             *\n             * @return {Modedit}\n             */\n            initModedit: function () {\n                return new Modedit();\n            }\n        };\n    }\n);"],"file":"modedit.min.js"}