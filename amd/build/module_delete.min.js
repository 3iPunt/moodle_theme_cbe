define ("theme_cbe/module_delete",["jquery","core/str","core/ajax","core/templates"],function(a,b,c){"use strict";var e={DELETE_BOARD_BUTTON:".delete-module.action",DELETE_BUTTON:"[data-action=\"delete\"]",CANCEL_BUTTON:".btn.cancel"},f={MODULE:"#board-content .modulecbe"},g={MODULE_DELETE:"theme_cbe_course_module_delete"};function d(b,c){this.cmid=c;this.node=a(b);this.module_node=a(f.MODULE+"[data-cmid=\""+this.cmid+"\"]");this.node.find(e.DELETE_BUTTON).on("click",this.onDeleteButtonClick.bind(this));this.module_node.find(e.DELETE_BOARD_BUTTON).on("click",this.onDeleteBoardButtonClick.bind(this));this.module_node.find(e.CANCEL_BUTTON).on("click",this.onCancelButtonClick.bind(this))}d.prototype.onCancelButtonClick=function(){if(this.module_node.hasClass("is_board_hidden")){this.module_node.css("opacity","0.5")}};d.prototype.onDeleteBoardButtonClick=function(){this.module_node.css("opacity","1")};d.prototype.onDeleteButtonClick=function(){a(e.DELETE_BUTTON).prop("disabled",!0);var b={methodname:g.MODULE_DELETE,args:{cmid:this.cmid}};c.call([b])[0].done(function(a){if(a.success){location.reload()}}).fail(Notification.exception)};d.prototype.node=null;return{initModuleDelete:function initModuleDelete(a,b){return new d(a,b)}}});
//# sourceMappingURL=module_delete.min.js.map
