/**
 *
 * @author  2021 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_cbe/module_delete",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){var ACTION_DELETE_BOARD_BUTTON=".delete-module.action",ACTION_DELETE_BUTTON='[data-action="delete"]',ACTION_CANCEL_BUTTON=".btn.cancel",REGIONS_MODULE="#board-content .modulecbe",SERVICES_MODULE_DELETE="theme_cbe_course_module_delete";function ModuleDelete(region,cmid){this.cmid=cmid,this.node=$(region),this.module_node=$(REGIONS_MODULE+'[data-cmid="'+this.cmid+'"]'),this.node.find(ACTION_DELETE_BUTTON).on("click",this.onDeleteButtonClick.bind(this)),this.module_node.find(ACTION_DELETE_BOARD_BUTTON).on("click",this.onDeleteBoardButtonClick.bind(this)),this.module_node.find(ACTION_CANCEL_BUTTON).on("click",this.onCancelButtonClick.bind(this))}return ModuleDelete.prototype.onCancelButtonClick=function(e){this.module_node.hasClass("is_board_hidden")&&this.module_node.css("opacity","0.5")},ModuleDelete.prototype.onDeleteBoardButtonClick=function(e){this.module_node.css("opacity","1")},ModuleDelete.prototype.onDeleteButtonClick=function(e){$(ACTION_DELETE_BUTTON).prop("disabled",!0);var request={methodname:SERVICES_MODULE_DELETE,args:{cmid:this.cmid}};Ajax.call([request])[0].done((function(response){response.success&&location.reload()})).fail(Notification.exception)},ModuleDelete.prototype.node=null,{initModuleDelete:function(region,cmid){return new ModuleDelete(region,cmid)}}}));

//# sourceMappingURL=module_delete.min.js.map